var that=this;function __skpm_run(e,t){that.context=t;var r=function(e){var t={};function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t){function r(e){this.api=e,this.doc=e.document,this.feNamePre="fe/",this.init()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){new r(e)},r.prototype.init=function(){var e=this,t=e.api.selection,r=t.count();if(r>0)for(var o=r;o--;){var a=t[o];"MSLayerGroup"==a.className()?e.dealSelection(a):e.msg("Please select a group ðŸ˜Š")}else e.msg("Please select a group ðŸ˜Š")},r.prototype.msg=function(e){this.doc.showMessage(e)},r.prototype.dealSelection=function(e){var t=this,r=t.copyThisGroup(e);t.forEachKids(r,function(e){t.maskIt(e)})},r.prototype.appendLayers=function(e,t){var r=e.layers();if(r.count()>0){var o=r[0];e.insertLayers_beforeLayer(t,o)}else e.addLayers(t)},r.prototype.getShapeByData=function(e){var t=CGRectMake(e.x,e.y,e.width,e.height),r=MSShapeGroup.shapeWithRect_(t);return e.color&&this.setFillColor(r,e.color),e.name&&r.setName_(e.name),r},r.prototype.dealGroup=function(e){var t=e.frame(),r=this.getShapeByData({x:0,y:0,width:t.width(),height:t.height(),color:"rgba(0,0,0,0.1)",name:"g: "+e.name()});this.appendLayers(e,[r])},r.prototype.isIgnore=function(e){return"_"==e.name().charAt(0)},r.prototype.dealText=function(e){var t=e.frame(),r=e.parentGroup(),o="rgba(0,0,0,0.1)",a="rgba(255,0,0,0.1)",n=t.height(),i=e.name();if(!this.isIgnore(e)){e.style().sharedObjectID()||(o=a,i="No share textStyle");var p=e.lineHeight();p||(o=a,i="No lh"),n%p!=0&&(o=a,i="h % lh != 0")}var s=this.getShapeByData({x:t.x(),y:t.y(),width:t.width(),height:n,color:o,name:"t: "+i});r.insertLayers_beforeLayer([s],e),e.removeFromParent()},r.prototype.dealShape=function(e){var t=e.frame(),r=e.parentGroup(),o=this.getShapeByData({x:t.x(),y:t.y(),width:t.width(),height:t.height(),color:"rgba(0,0,0,0.1)",name:"s: "+e.name()});r.insertLayers_beforeLayer([o],e),e.removeFromParent()},r.prototype.maskIt=function(e){var t=this,r=e.className();"MSLayerGroup"==r?t.dealGroup(e):"MSTextLayer"==r?t.dealText(e):"MSShapeGroup"==r?t.dealShape(e):"MSSymbolInstance"==r?t.dealShape(e):"MSBitmapLayer"==r&&e.removeFromParent()},r.prototype.getColorByString=function(e){return MSImmutableColor.colorWithSVGString(e).newMutableCounterpart()},r.prototype.setFillColor=function(e,t){e.style().addStylePartOfType(0).color=this.getColorByString(t)},r.prototype.setNameByData=function(e,t){var r="";for(var o in t){var a=t[o];r+="id"==o?a+":":" "+o+a}e.setName_(r)},r.prototype.forEachSons=function(e,t){for(var r=e.layers(),o=r.count();o--;)t(r[o])},r.prototype.forEachKids=function(e,t){for(var r=e.children(),o=r.count();o--;)t(r[o])},r.prototype.removeSonByName=function(e,t){this.forEachSons(e,function(e){var r=e.name();t==r&&e.removeFromParent()})},r.prototype.duplicate=function(e,t,r){r=r||e.parentGroup();var o=e.copy();return o.setName_(t||e.name()),r.insertLayers_afterLayer_([o],e),o},r.prototype.copyThisGroup=function(e){var t=e.parentGroup(),r=this.feNamePre+e.name();return this.removeSonByName(t,r),this.duplicate(e,r,t)}}]);"default"===e&&"function"==typeof r?r(t):r[e](t)}that.onRun=__skpm_run.bind(this,"default");